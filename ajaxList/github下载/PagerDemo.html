<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>github下载</title>
    <link href="css/Pager.css" rel="stylesheet" type="text/css"/>
    <script src="../deps/jquery.js" type="text/javascript"></script>
    <script src="jquery.pager.js" type="text/javascript"></script>
    <script type="text/javascript" language="javascript">

        //pagenumber 为当前页码
        //pagecount 为显示页数
        //PageClick 为回调函数
        //pageclickednumber 为点击页码
        var rowCountPerPage = 3;
        $(document).ready(function () {
            fnGetData(1, rowCountPerPage, function (res) {
                $("#pager").pager({
                    pagenumber: 1,
                    pagecount: res.rowCount / rowCountPerPage,
                    buttonClickCallback: PageClick
                });
                $("#result").html(fnCreateList(res.currentPageData));
            })
        });

        //构造list
        function fnCreateList(data) {
            console.log(data);
        }

        function PageClick(pageclickednumber) {
            $("#pager").pager({
                pagenumber: pageclickednumber,
                pagecount: 15,
                buttonClickCallback: PageClick
            });
            $("#result").html("Clicked Page " + pageclickednumber);
        }

        //currentPageIndex——当前页码（从1开始计算）
        //rowCountPerPage——每页的记录数
        function fnGetData(currentPageIndex, rowCountPerPage, fnSucessCallback) {
            $.ajax({
                url: "../datas/data.json",
                type: "post",
                data: {
                    currentPageNum: currentPageIndex,
                    rowCount: rowCountPerPage
                },
                success: fnSucessCallback,
                error: function (err) {
                    console.log(err);
                }
            })
        }

    </script>
</head>
<body>
<h1 id="result">Click the pager below.</h1>
<div id="pager"></div>
</body>
</html>
